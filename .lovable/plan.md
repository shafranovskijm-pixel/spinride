
# План исправлений и улучшений SPINRIDE

## Обзор

На основе аудита проекта выявлено **8 проблем разной критичности**. Ниже — полный план исправлений, сгруппированный по приоритету.

---

## Критические проблемы (Приоритет 1)

### 1.1 Несоответствие номера телефона в футере
**Проблема:** В базе данных (`site_settings.footer`) указан старый номер `+7 924-111-22-33`, а в хедере и баннере уже исправлен на `+7 924-788-11-11`.

**Решение:**
- Обновить запись в таблице `site_settings` (ключ `footer`)
- Изменить поле `phone` на `+7 924-788-11-11`

```text
Файлы: Только база данных (SQL UPDATE)
```

### 1.2 Товар без категории
**Проблема:** Товар "Коллекция Дедов Морозов" (id: `5689ff39-4c95-420a-be1c-f9f714687456`) не привязан к категории.

**Решение:**
- Присвоить `category_id` = `55622af6-da0b-4911-af13-25e572a7f4a3` (категория `party`)

```text
Файлы: Только база данных (SQL UPDATE)
```

---

## Важные проблемы (Приоритет 2)

### 2.1 Статическая навигация в хедере
**Проблема:** Навигация `Header.tsx` всегда показывает летние категории (Велосипеды, Электро, Самокаты, BMX), игнорируя текущий сезон.

**Решение:**
- Создать два массива навигации: `summerNavigation` и `winterNavigation`
- Использовать `useSeason()` для выбора нужного массива
- Зимой показывать: Каталог, Тюбинги, Ёлки, Декор, Детям, Аксессуары

```text
Файл: src/components/shop/Header.tsx
Изменения:
  - Добавить winterNavigation массив
  - Получить season из useSeason()
  - Условно выбирать navigation массив
  - Обновить текст "Подобрать велосипед" → "Подобрать подарок" зимой
```

### 2.2 QuizPage использует mock-данные
**Проблема:** Страница квиза (`QuizPage.tsx`) импортирует `mockProducts` вместо загрузки товаров из базы данных.

**Решение:**
- Заменить импорт `mockProducts` на запрос к Supabase
- Использовать `useQuery` для получения товаров
- Добавить состояние загрузки

```text
Файл: src/pages/QuizPage.tsx
Изменения:
  - Убрать импорт mockProducts
  - Добавить useQuery для загрузки products
  - Обновить getRecommendations для работы с реальными данными
  - Добавить Skeleton для загрузки
```

---

## Средние проблемы (Приоритет 3)

### 3.1 Товары без изображений
**Проблема:** 10 товаров не имеют изображений (пустой массив `images`).

| Категория | Товары без фото |
|-----------|-----------------|
| Ёлки (decor) | 7 товаров |
| Праздник (party) | 3 товара |

**Решение:**
- Добавить placeholder-изображения для этих товаров
- Или уведомить администратора о необходимости загрузки фото

```text
Товары без фото:
- Литая искусственная Ель 2444
- Литая голубая Ель с гирляндой 2345BL
- Комбинированная Ель 2326SL
- Искусственная Ель мини
- Литая Ель 2424
- Литая голубая Ель 2345В
- Литая Ель 2253
- Дед Мороз музыкальный
- Снегурочка музыкальная
- Конфетница новогодняя
```

### 3.2 Отсутствует sitemap.xml
**Проблема:** В `public/` нет файла `sitemap.xml`, что снижает индексацию в поисковиках.

**Решение:**
- Создать `public/sitemap.xml` со статическими страницами
- Добавить ссылки на основные разделы и категории

```text
Файл: public/sitemap.xml (создание)
Содержимое: XML с URL главных страниц
```

---

## Улучшения (Приоритет 4)

### 4.1 Добавить ссылки на Privacy и Terms в футер
**Проблема:** Созданные страницы `/privacy` и `/terms` не добавлены в навигацию футера.

**Решение:**
- Обновить `info_links` в `site_settings.footer`
- Добавить ссылки "Политика конфиденциальности" и "Условия использования"

```text
Изменения: SQL UPDATE для site_settings (ключ footer)
```

### 4.2 Сезонные ссылки каталога в футере
**Проблема:** Футер всегда показывает летние категории каталога.

**Решение:**
- Обновить компонент `Footer.tsx` для использования `useSeason()`
- Динамически подменять `catalog_links` в зависимости от сезона

```text
Файл: src/components/shop/Footer.tsx
```

---

## Технические детали реализации

```text
┌────────────────────────────────────────────────────────────────┐
│  Приоритет 1 (критические)                                     │
├────────────────────────────────────────────────────────────────┤
│  ✓ Исправить телефон в footer (SQL)                            │
│  ✓ Привязать "Коллекция Дедов Морозов" к party (SQL)           │
├────────────────────────────────────────────────────────────────┤
│  Приоритет 2 (важные)                                          │
├────────────────────────────────────────────────────────────────┤
│  ✓ Header.tsx — сезонная навигация                             │
│  ✓ QuizPage.tsx — загрузка товаров из БД                       │
├────────────────────────────────────────────────────────────────┤
│  Приоритет 3 (средние)                                         │
├────────────────────────────────────────────────────────────────┤
│  ○ Добавить placeholder для товаров без фото                   │
│  ✓ Создать sitemap.xml                                         │
├────────────────────────────────────────────────────────────────┤
│  Приоритет 4 (улучшения)                                       │
├────────────────────────────────────────────────────────────────┤
│  ✓ Добавить Privacy/Terms в footer links (SQL)                 │
│  ○ Footer.tsx — сезонные ссылки каталога                       │
└────────────────────────────────────────────────────────────────┘
```

---

## Сводка изменений

| Тип | Количество |
|-----|------------|
| SQL запросы (UPDATE) | 3 |
| Файлы для редактирования | 2 |
| Файлы для создания | 1 |

**Оценка времени:** 15-20 минут

После одобрения плана выполню все изменения в следующем порядке:
1. SQL обновления (телефон, категория, ссылки футера)
2. Header.tsx (сезонная навигация)
3. QuizPage.tsx (загрузка из БД)
4. sitemap.xml (создание)
